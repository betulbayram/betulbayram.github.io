# BÃ¶lÃ¼m 3: Modelin "Karakterini" Ayarlamak: Sampling Parametreleri
BÃ¶lÃ¼m 2'de Ã¶ÄŸrendiÄŸimiz gibi, LLM'ler bir sonraki token'Ä± seÃ§mez, onun yerine bir **olasÄ±lÄ±k daÄŸÄ±lÄ±mÄ± (probability distribution)** oluÅŸturur.

Bir cÃ¼mlenin **Kedi...** olduÄŸunu varsayalÄ±m. Modelin bir sonraki token iÃ§in olasÄ±lÄ±klarÄ± ÅŸÃ¶yle olabilir:

> * masanÄ±n (%40)
> * sokaÄŸÄ±n (%15)
> * halÄ±nÄ±n (%10)
> * yÃ¼zme (%0.01)

Modelin her zaman en yÃ¼ksek olasÄ±lÄ±ÄŸÄ± (%40 *masanÄ±n*) seÃ§mesi "aÃ§gÃ¶zlÃ¼" (greedy) bir yaklaÅŸÄ±mdÄ±r ve Ã§ok sÄ±kÄ±cÄ±, tekrarlÄ± metinler Ã¼retir. Ä°ÅŸte **Sampling (Ã–rnekleme) Parametreleri**, bu olasÄ±lÄ±k listesinden nasÄ±l bir seÃ§im yapacaÄŸÄ±mÄ±zÄ± kontrol eder.

## 1. Temperature (SÄ±caklÄ±k) ğŸ”¥
**Temperature**, modelin Ã§Ä±ktÄ±larÄ±ndaki rastgeleliÄŸi (randomness) ve "risk alma" iÅŸtahÄ±nÄ± kontrol eden en temel parametredir.

Teknik olarak; bu parametre, modelin olasÄ±lÄ±k daÄŸÄ±lÄ±mÄ±nÄ± yeniden ÅŸekillendirir. OlasÄ±lÄ±klarÄ± "keskinleÅŸtirir" veya "dÃ¼zleÅŸtirir".

### DÃ¼ÅŸÃ¼k Temperature (Ã¶rn. 0.0 - 0.3)
* **Ne Yapar:** OlasÄ±lÄ±k daÄŸÄ±lÄ±mÄ±nÄ± keskinleÅŸtirir. YÃ¼ksek olasÄ±lÄ±klÄ± token'larÄ± daha da baskÄ±n hale getirir, dÃ¼ÅŸÃ¼k olasÄ±lÄ±klÄ±larÄ± neredeyse sÄ±fÄ±ra indirir. `Temperature = 0` en uÃ§ noktasÄ±dÄ±r ve modeli "greedy" yapar (her zaman en olasÄ± olanÄ± seÃ§er).
* **SonuÃ§:** Deterministik (Ã¶ngÃ¶rÃ¼lebilir), olgusal (factual) ve tutarlÄ± Ã§Ä±ktÄ±lar.
* **Ne Zaman KullanÄ±lÄ±r:** Kod Ã¼retimi, matematik problemleri, gerÃ§eklere dayalÄ± Soru-Cevap, metin Ã¶zetleme. (GÃ¼venilir ama sÄ±kÄ±cÄ± bir kÃ¼tÃ¼phaneci).

### YÃ¼ksek Temperature (Ã¶rn. 0.8 - 1.0+)
* **Ne Yapar:** OlasÄ±lÄ±k daÄŸÄ±lÄ±mÄ±nÄ± dÃ¼zleÅŸtirir. Token'lar arasÄ±ndaki olasÄ±lÄ±k farkÄ±nÄ± azaltÄ±r. Bu, *halÄ±nÄ±n* (%10) veya hatta *yÃ¼zme* (%0.01) gibi daha "riskli" ve beklenmedik token'larÄ±n seÃ§ilme ÅŸansÄ±nÄ± artÄ±rÄ±r.
* **SonuÃ§:** YaratÄ±cÄ±, Ã§eÅŸitli, beklenmedik ancak potansiyel olarak daha az tutarlÄ± veya anlamsÄ±z (halÃ¼sinasyon) Ã§Ä±ktÄ±lar.
* **Ne Zaman KullanÄ±lÄ±r:** YaratÄ±cÄ± yazÄ± (ÅŸiir, hikaye), beyin fÄ±rtÄ±nasÄ±, birden fazla farklÄ± seÃ§enek Ã¼retmek. (YaratÄ±cÄ± ama gÃ¼venilmez bir sanatÃ§Ä±).

---

## 2. Top-K (En Ä°yi K)
**Top-K**, modelin seÃ§im yapabileceÄŸi token havuzunu sabit bir sayÄ±yla kÄ±sÄ±tlayan katÄ± bir filtredir.

* **Ne Yapar:** Modelin tÃ¼m olasÄ±lÄ±k listesine bakmasÄ±nÄ± engeller. Ona, "Sadece en yÃ¼ksek olasÄ±lÄ±ÄŸa sahip ilk K adet token'lÄ±k listeye bak ve seÃ§imini sadece bu K token arasÄ±ndan yap" der.
* **Ã–rnek:** `K=5` ise, model sadece en olasÄ± 5 token'Ä± (Ã¶rn. *masanÄ±n, sokaÄŸÄ±n, halÄ±nÄ±n, evin, sandalyenin*) dikkate alÄ±r. Geri kalan binlerce token'Ä± (Ã¶rn. *yÃ¼zme*) olasÄ±lÄ±klarÄ± ne olursa olsun eler.
* **KullanÄ±m AlanlarÄ±:**
    * **DÃ¼ÅŸÃ¼k K (Ã¶rn. 1-10):** Daha gÃ¼venli ve muhafazakar Ã§Ä±ktÄ±lar Ã¼retir. `K=1` "greedy" mod demektir.
    * **YÃ¼ksek K (Ã¶rn. 50+):** Modele daha fazla Ã§eÅŸitlilik ve yaratÄ±cÄ±lÄ±k iÃ§in alan tanÄ±r.
* **DezavantajÄ±:** Top-K statiktir. Bazen (*Kedi...* Ã¶rneÄŸi gibi) en olasÄ± token %99'dur ve diÄŸer tÃ¼m seÃ§enekler anlamsÄ±zdÄ±r. `K=10` ayarlamak, modele 9 adet anlamsÄ±z seÃ§enek arasÄ±ndan seÃ§im yapma riski verir. Bazen de (*DaÄŸa tÄ±rmanmak iÃ§in...* gibi) 20 tane eÅŸanlamlÄ± ve mantÄ±klÄ± seÃ§enek vardÄ±r; `K=10` ayarlamak bu iyi seÃ§eneklerin yarÄ±sÄ±nÄ± gereksiz yere eleyebilir.

---

## 3. Top-P (Nucleus Sampling) ğŸ¯
**Top-P**, Top-K'nÄ±n statik sorununu Ã§Ã¶zen daha dinamik ve modern bir yaklaÅŸÄ±mdÄ±r.

* **Ne Yapar:** Sabit bir sayÄ±ya (K) bakmak yerine, olasÄ±lÄ±klarÄ± kÃ¼mÃ¼latif (toplam) olarak %P'ye ulaÅŸan en kÃ¼Ã§Ã¼k token setini (nucleus/Ã§ekirdek) seÃ§er.
* **Analoji:**
    > "En olasÄ± token'lardan baÅŸlayarak listeyi aÅŸaÄŸÄ± doÄŸru topla, toplam olasÄ±lÄ±k %P'ye (Ã¶rn. %90) ulaÅŸtÄ±ÄŸÄ± an dur. SeÃ§imini sadece bu topladÄ±ÄŸÄ±n 'Ã§ekirdek' set iÃ§inden yap."
* **Teknik FarkÄ±:**
    * **Senaryo 1 (Keskin DaÄŸÄ±lÄ±m):** *masanÄ±n* (%95), *sokaÄŸÄ±n* (%2)... `P=0.9` (%90) ayarladÄ±ÄŸÄ±nÄ±zda, "Ã§ekirdek" set sadece `{masanÄ±n}` token'Ä±nÄ± iÃ§erir. Model gÃ¼venli bir seÃ§im yapar. (Top-K=10 olsaydÄ± 9 kÃ¶tÃ¼ seÃ§enek daha ekleyecekti).
    * **Senaryo 2 (DÃ¼z DaÄŸÄ±lÄ±m):** *koÅŸmak* (%10), *yÃ¼rÃ¼mek* (%9), *gitmek* (%8)... `P=0.9` (%90) ayarladÄ±ÄŸÄ±nÄ±zda, "Ã§ekirdek" set bu mantÄ±klÄ± seÃ§eneklerin Ã§oÄŸunu (belki 15-20 token) iÃ§erecektir. (Top-K=10 olsaydÄ± iyi seÃ§enekleri kaÃ§Ä±racaktÄ±).
* **SonuÃ§:** Top-P, daÄŸÄ±lÄ±mÄ±n ÅŸekline dinamik olarak uyum saÄŸlar. Olgusal (factual) durumlarda riski azaltÄ±r, yaratÄ±cÄ± durumlarda ise Ã§eÅŸitliliÄŸi korur. Bu nedenle Top-K'ya gÃ¶re genellikle daha Ã§ok tercih edilen bir yÃ¶ntemdir.

---

## Parametrelerin EtkileÅŸimi ve Strateji
Bu Ã¼Ã§ parametre birbiriyle etkileÅŸime girer ve genellikle hepsi aynÄ± anda kullanÄ±lmaz (Ã¶zellikle Top-K ve Top-P).

* **AltÄ±n Kural:** `Temperature = 0` ayarladÄ±ÄŸÄ±nÄ±zda, model her zaman en yÃ¼ksek olasÄ±lÄ±klÄ± token'Ä± seÃ§ecektir. Bu durumda Top-K ve Top-P'nin hiÃ§bir anlamÄ± kalmaz, Ã§Ã¼nkÃ¼ seÃ§im seti her zaman 1'dir.
* **YaygÄ±n KullanÄ±m:** Genellikle ya (`Temperature` + `Top-K`) ya da (`Temperature` + `Top-P`) kullanÄ±lÄ±r. Ã‡oÄŸu modern uygulama (`Temperature` + `Top-P`) kombinasyonunu tercih eder.
* **Stratejik BaÅŸlangÄ±Ã§:**
    * **Olgusal/Kodlama GÃ¶revleri:** `Temperature: 0.1` (veya 0), `Top-P: 0.9` (veya hiÃ§ ayarlamayÄ±n).
    * **Dengeli YaratÄ±cÄ±lÄ±k:** `Temperature: 0.5 - 0.7`, `Top-P: 0.9`
    * **YÃ¼ksek YaratÄ±cÄ±lÄ±k/Beyin FÄ±rtÄ±nasÄ±:** `Temperature: 0.9+`, `Top-P: 0.95+`

Bu parametreler, prompt'unuzun "ne" sÃ¶ylediÄŸi kadar Ã¶nemlidir; modelin bu prompt'a "nasÄ±l" tepki vereceÄŸini belirlerler.